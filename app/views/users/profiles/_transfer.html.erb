<% url = session_transfer_url(user.transfer_id) %>

<fieldset>
  <legend class="gap">
    <%= image_tag "laptop.svg", aria: { hidden: "true" }, size: 36, class: "colorize--black" %>
    <%= image_tag "transfer.svg", aria: { hidden: "true" }, size: 36, class: "colorize--black" %>
    <%= image_tag "mobile-phone.svg", aria: { hidden: "true" }, size: 36, class: "colorize--black" %>
  </legend>


  <div class="flex flex-column gap">
    <% if Current.user != user %>
      <div class="flex align-center gap justify-center">
        <%= image_tag "crown.svg", size: 16, aria: { hidden: "true" }, class: "flex-item-no-shrink colorize--black" %>
        <label for="session_transfer_url"><%= t(".share_label") %></label>
      </div>
    <% else %>
      <label for="session_transfer_url" class="for-screen-reader"><%= t(".self_label") %></label>
    <% end %>

    <input type="text" class="input" value="<%= url %>" id="session_transfer_url" readonly>

    <div class="flex align-center center gap">
      <%= link_to_zoom_qr_code(url) do %>
        <span class="for-screen-reader"><%= t(".qr_reader") %></span>
        <%= image_tag "qr-code.svg", aria: { hidden: "true" }, size: 20, class: "colorize--black" %>
      <% end %>

      <%= button_to_copy_to_clipboard(url) do %>
        <span class="for-screen-reader"><%= t(".copy_reader") %></span>
        <%= image_tag "copy-paste.svg", aria: { hidden: "true" }, size: 20, class: "flex-item-no-shrink colorize--black" %>
      <% end %>

      <%= web_share_session_button(url, t(".share_title"), t(".share_body")) do %>
        <span class="for-screen-reader"><%= t(".share_reader") %></span>
        <%= image_tag "share.svg", aria: { hidden: "true" }, size: 20, class: "flex-item-no-shrink colorize--black" %>
      <% end %>
    </div>
  </div>
</fieldset>
